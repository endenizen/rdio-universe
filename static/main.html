<!DOCTYPE HTML>
<html>
<head>
  <title>Rdio Collection Chronology</title>
  <script src="https://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
  <script src="Three.js"></script>

  <script id="noise_shaders" type="x-shader/x-fragment">
        uniform sampler2D texture;
        uniform float alpha;
        uniform float time;

        varying vec3 vNormal;
        varying vec2 vUv;

        vec3 noise()
        {
          vec2 resolution = vec2( 200.0, 200.0 );

          vec2 p = -1.0 + 2.0 * vUv;
          float a = time*40.0;
          float d,e,f,g=1.0/40.0,h,i,r,q;
          e=400.0*(p.x*0.5+0.5);
          f=400.0*(p.y*0.5+0.5);
          i=200.0+sin(e*g+a/150.0)*20.0;
          d=200.0+cos(f*g/2.0)*18.0+cos(e*g)*7.0;
          r=sqrt(pow(i-e,2.0)+pow(d-f,2.0));
          q=f/r;
          e=(r*cos(q))-a/2.0;f=(r*sin(q))-a/2.0;
          d=sin(e*g)*176.0+sin(e*g)*164.0+r;
          h=((f+d)+a/2.0)*g;
          i=cos(h+r*p.x/1.3)*(e+e+a)+cos(q*g*6.0)*(r+h/3.0);
          h=sin(f*g)*144.0-sin(e*g)*212.0*p.x;
          h=(h+(f-e)*q+sin(r-(a+h)/7.0)*10.0+i/4.0)*g;
          i+=cos(h*2.3*sin(a/350.0-q))*184.0*sin(q-(r*4.3+a/12.0)*g)+tan(r*g+h)*184.0*cos(r*g+h);
          i=mod(i/5.6,256.0)/64.0;
          if(i<0.0) i+=4.0;
          if(i>=2.0) i=4.0-i;
          d=r/350.0;
          d+=sin(d*d*8.0)*0.52;
          f=(sin(a*g)+1.0)/2.0;
          return vec3(f*i/1.6,i/2.0+d/13.0,i)*d*p.x
               + vec3(i/1.3+d/8.0,i/2.0+d/18.0,i)*d*(1.0-p.x);
        }

        void main() {
          vec3 diffuse = texture2D( texture, vUv ).xyz;
          float intensity = 1.05 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) );
          vec3 atmosphere = vec3( 1.0, 1.0, 1.0 ) * pow( intensity, 3.0 );
          vec3 noise = noise() * 0.5;

          //float n = snoise(vec4(4.0 * v_texCoord3D.xyz, 0.5 * time));
          //gl_FragColor = v_color * vec4(0.5 + 0.5 * vec3(n, n, n), 1.0);

          gl_FragColor = vec4( diffuse + atmosphere + noise, alpha );
        }

  </script>

  <script src="main.js"></script>
  <script src="universe.js"></script>
  <script src="star.js"></script>
  <script src="planet.js"></script>
  <link rel="stylesheet" href="cc.css" type="text/css">
</head>
<body>
  <div id="holder">
    <div id="dialog">
      <label>Enter your Rdio Username <input id="username"><button id="go">Go</button></label>
    </div>
    
    <div id="loading">
      Loading...
    </div>

    <div id="player">
      <img id="art">
      <div id="controls">
        <button id="prev">Previous</button>
        <button id="play">Play</button>
        <button id="pause">Pause</button>
        <button id="next">Next</button>
        <a class="listen" href="" target="_blank">Listen on Rdio</a>
      </div>
      <div id="trackwrap">
        <ol id="tracks">
        </ol>
      </div>
    </div>

    <div id="poweredby"><a href="http://www.rdio.com/">Powered by Rdio</a></div>
    
    <div id="footer">Â© 2011 Rdio, Inc. You can build cool stuff too using the <a href="http://developer.rdio.com/">Rdio API</a>.</div>

  </div>
  <div id="api_swf"></div>
</body>
</html>
